{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Desktop/Food Order/01-starting-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/HP/Desktop/Food Order/01-starting-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/HP/Desktop/Food Order/01-starting-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useEffect}from\"react\";import{Card}from\"../UI/Card\";import classes from\"./AvailableMeals.module.css\";import{Mealitem}from\"./MealItem/Mealitem\";import{jsx as _jsx}from\"react/jsx-runtime\";export var AvailableMeals=function AvailableMeals(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),meals=_useState2[0],setMeals=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),httpError=_useState6[0],setHttpError=_useState6[1];useEffect(function(){var fetchMeals=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,responseData,LoadedMeals,key;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.next=3;return fetch('https://test-1fe01-default-rtdb.firebaseio.com//meals.json');case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error('Something went wrong!');case 6:_context.next=8;return response.json();case 8:responseData=_context.sent;LoadedMeals=[];for(key in responseData){LoadedMeals.push({id:key,name:responseData[key].name,description:responseData[key].description,price:responseData[key].price});}setMeals(LoadedMeals);setIsLoading(false);case 13:case\"end\":return _context.stop();}}},_callee);}));return function fetchMeals(){return _ref.apply(this,arguments);};}();fetchMeals().catch(function(error){setIsLoading(false);setHttpError(error.message);});},[]);if(isLoading){return/*#__PURE__*/_jsx(\"section\",{className:classes.MealsLoading,children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})});}if(httpError){return/*#__PURE__*/_jsx(\"section\",{className:classes.MealsError,children:/*#__PURE__*/_jsx(\"p\",{children:httpError})});}var mealsList=meals.map(function(meal){return/*#__PURE__*/_jsx(Mealitem,{id:meal.id,name:meal.name,description:meal.description,price:meal.price},meal.id);});return/*#__PURE__*/_jsx(\"section\",{className:classes.meals,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(\"ul\",{children:mealsList})})});};","map":{"version":3,"names":["React","useState","useEffect","Card","classes","Mealitem","AvailableMeals","meals","setMeals","isLoading","setIsLoading","httpError","setHttpError","fetchMeals","fetch","response","ok","Error","json","responseData","LoadedMeals","key","push","id","name","description","price","catch","error","message","MealsLoading","MealsError","mealsList","map","meal"],"sources":["C:/Users/HP/Desktop/Food Order/01-starting-project/src/components/Meals/AvailableMeals.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { Card } from \"../UI/Card\";\r\n\r\nimport classes from \"./AvailableMeals.module.css\";\r\nimport { Mealitem } from \"./MealItem/Mealitem\";\r\n\r\nexport const AvailableMeals = () => {\r\n  const [meals, setMeals] = useState([]);\r\n  const [isLoading,setIsLoading] = useState(false);\r\n  const [httpError,setHttpError] = useState(null);\r\n\r\n  useEffect(() => {\r\n         const fetchMeals = async () => {\r\n          setIsLoading(true);\r\n          const response = await fetch('https://test-1fe01-default-rtdb.firebaseio.com//meals.json');\r\n          if(!response.ok){\r\n            throw new Error('Something went wrong!');\r\n          }\r\n   \r\n          const responseData =await response.json();\r\n          \r\n          const LoadedMeals = [];\r\n\r\n          for(const key in responseData){\r\n             LoadedMeals.push({\r\n              id:key,\r\n              name:responseData[key].name,\r\n              description:responseData[key].description,\r\n              price:responseData[key].price\r\n             })\r\n          }\r\n\r\n          setMeals(LoadedMeals);\r\n          setIsLoading(false);\r\n          \r\n         }\r\n         \r\n        \r\n         fetchMeals().catch((error) => {\r\n                 setIsLoading(false)\r\n                 setHttpError(error.message)\r\n         });\r\n         \r\n  },[])\r\n\r\n  if(isLoading){\r\n    return <section  className={classes.MealsLoading}>\r\n      <p >Loading...</p>\r\n    </section>\r\n  }\r\n\r\n  if(httpError){\r\n    return <section  className={classes.MealsError}>\r\n    <p >{httpError}</p>\r\n  </section>\r\n  }\r\n  \r\n\r\n \r\n\r\n \r\n\r\n\r\n\r\nconst mealsList = meals.map((meal) => (\r\n  <Mealitem\r\n    key={meal.id}\r\n    id={meal.id}\r\n    name={meal.name}\r\n    description={meal.description}\r\n    price={meal.price}\r\n  />\r\n));\r\n\r\nreturn (\r\n  <section className={classes.meals}>\r\n    <Card>\r\n      <ul>{mealsList}</ul>\r\n    </Card>\r\n  </section>\r\n);\r\n}\r\n"],"mappings":"waAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,IAAT,KAAqB,YAArB,CAEA,MAAOC,QAAP,KAAoB,6BAApB,CACA,OAASC,QAAT,KAAyB,qBAAzB,C,2CAEA,MAAO,IAAMC,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CAClC,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAAiCP,QAAQ,CAAC,KAAD,CAAzC,yCAAOQ,SAAP,eAAiBC,YAAjB,eACA,eAAiCT,QAAQ,CAAC,IAAD,CAAzC,yCAAOU,SAAP,eAAiBC,YAAjB,eAEAV,SAAS,CAAC,UAAM,CACT,GAAMW,WAAU,4FAAG,+KAClBH,YAAY,CAAC,IAAD,CAAZ,CADkB,sBAEKI,MAAK,CAAC,4DAAD,CAFV,QAEZC,QAFY,kBAGdA,QAAQ,CAACC,EAHK,8BAIV,IAAIC,MAAJ,CAAU,uBAAV,CAJU,8BAOQF,SAAQ,CAACG,IAAT,EAPR,QAOZC,YAPY,eASZC,WATY,CASE,EATF,CAWlB,IAAUC,GAAV,GAAiBF,aAAjB,CAA8B,CAC3BC,WAAW,CAACE,IAAZ,CAAiB,CAChBC,EAAE,CAACF,GADa,CAEhBG,IAAI,CAACL,YAAY,CAACE,GAAD,CAAZ,CAAkBG,IAFP,CAGhBC,WAAW,CAACN,YAAY,CAACE,GAAD,CAAZ,CAAkBI,WAHd,CAIhBC,KAAK,CAACP,YAAY,CAACE,GAAD,CAAZ,CAAkBK,KAJR,CAAjB,EAMF,CAEDlB,QAAQ,CAACY,WAAD,CAAR,CACAV,YAAY,CAAC,KAAD,CAAZ,CArBkB,uDAAH,kBAAVG,WAAU,0CAAhB,CA0BAA,UAAU,GAAGc,KAAb,CAAmB,SAACC,KAAD,CAAW,CACtBlB,YAAY,CAAC,KAAD,CAAZ,CACAE,YAAY,CAACgB,KAAK,CAACC,OAAP,CAAZ,CACP,CAHD,EAKN,CAhCQ,CAgCP,EAhCO,CAAT,CAkCA,GAAGpB,SAAH,CAAa,CACX,mBAAO,gBAAU,SAAS,CAAEL,OAAO,CAAC0B,YAA7B,uBACL,iCADK,EAAP,CAGD,CAED,GAAGnB,SAAH,CAAa,CACX,mBAAO,gBAAU,SAAS,CAAEP,OAAO,CAAC2B,UAA7B,uBACP,mBAAKpB,SAAL,EADO,EAAP,CAGD,CASH,GAAMqB,UAAS,CAAGzB,KAAK,CAAC0B,GAAN,CAAU,SAACC,IAAD,qBAC1B,KAAC,QAAD,EAEE,EAAE,CAAEA,IAAI,CAACX,EAFX,CAGE,IAAI,CAAEW,IAAI,CAACV,IAHb,CAIE,WAAW,CAAEU,IAAI,CAACT,WAJpB,CAKE,KAAK,CAAES,IAAI,CAACR,KALd,EACOQ,IAAI,CAACX,EADZ,CAD0B,EAAV,CAAlB,CAUA,mBACE,gBAAS,SAAS,CAAEnB,OAAO,CAACG,KAA5B,uBACE,KAAC,IAAD,wBACE,oBAAKyB,SAAL,EADF,EADF,EADF,CAOC,CA3EM"},"metadata":{},"sourceType":"module"}